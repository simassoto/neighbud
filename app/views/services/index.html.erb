<h1 class="p-3 text-center fw-bold main-title mb-2">Hey Neighbud, Find your service</h1>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">


<div class="container">
  <div class="row">
    <!-- BEGIN SEARCH RESULT -->
    <div class="col-md-12">
      <div class="grid search">
        <div class="grid-body">
          <div class="row">
            <!-- BEGIN FILTERS -->
            <div class="col-md-2">
              <h5 class="grid-title"><i class="fa fa-filter"></i> Filters</h5>
              <hr>

              <!-- BEGIN FILTER BY CATEGORY -->
              <div data-controller="filter">
                <%= simple_form_for :filter, method: :get do |f| %>
                  <h5><strong>By category:</strong></h5>
                  <%= f.input :categories, as: :check_boxes,
                    collection: Service::CATEGORIES, label: '',
                    required: false,
                    checked: params.dig(:filter, :categories),
                    input_html: { data: { filter_target: 'check' } } %>

                  <!-- END FILTER BY CATEGORY -->
                  <div class="mb-3"></div>

                  <!-- BEGIN FILTER BY PRICE -->
                  <h5><strong>By price:</strong></h5>
                  <div data-controller="price">
                    <input type="range" data-price-target="input" class="slider" name="price" min="1" max="500" value="<%= params[:price] %>">
                    <span data-price-target="value">0</span>
                  </div>
                <% end %>
              </div>
              <!-- END FILTER BY PRICE -->

            </div>
            <!-- END FILTERS -->
            <!-- BEGIN RESULT -->
            <div class="col-md-9 mt-4">
              <hr>
              <!-- BEGIN SEARCH INPUT -->
              <div class="input-group mb-3">
                <input type="text" class="form-control" value="" placeholder="Search">
                <span class="input-group-btn">
                  <button class="btn btn-primary" type="button"><i class="fa fa-search"></i></button>
                </span>
              </div>

              <!-- MAP -->

                <div class="col-sm-12 d-flex mb-3">
                        <div style="width: 100%; height: 250px; margin-left: 0px;"
                            data-controller="mapbox"
                            data-mapbox-markers-value="<%= @markers.to_json %>"
                            data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
                        </div>
                </div>

              <!-- MAP -->

              <!-- END SEARCH INPUT -->
              <h5><strong>List Results</strong></h5>

                <!-- END ORDER RESULT -->

                <!-- BEGIN TABLE RESULT -->
                          <div class="container table-responsive">
                              <ul class="responsive-table">
                                <li class="table-header">
                                  <div class="col col-1">Category</div>
                                  <div class="col col-2">Title</div>
                                  <div class="col col-3">Price</div>
                                </li>

                                <% @services.each do |service| %>
                                  <%= link_to service_path(service) do %>
                                    <li class="table-row d-flex">
                                      <div class="image col col-1"><img src="https://via.placeholder.com/400x300/FF8C00" alt=""></div>
                                      <div class="col col-2 product"><strong><%= service.title %></strong><br><%= service.description %></div>
                                      <div class="col col-3 price text-right fs-6" data-label="Amount">$NB <%= service.price %></div>
                                    </li>
                                  <% end %>
                                <% end %>
                              </ul>
                          </div>
              <!-- END TABLE RESULT -->

              <!-- BEGIN PAGINATION -->
              <div class="container">
                <ul class="pagination responsive-table ps-4">
                  <li class="disabled"><a href="#">«</a></li>
                  <li class="active"><a href="#">1</a></li>
                  <li><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">4</a></li>
                  <li><a href="#">5</a></li>
                  <li><a href="#">»</a></li>
                </ul>
              </div>
              <!-- END PAGINATION -->
            </div>
            <!-- END RESULT -->
          </div>
        </div>
      </div>
    </div>
    <!-- END SEARCH RESULT -->
  </div>
</div>
